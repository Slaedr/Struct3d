
/media/data/Projects/Struct3d/src/cartmesh.cpp,570
void CartMesh::computeMeshSize()computeMeshSize10,220
CartMesh::CartMesh()CartMesh35,724
PetscErrorCode CartMesh::createMeshAndDMDA(const MPI_Comm comm, const PetscInt npdim[NDIM], createMeshAndDMDA39,766
PetscErrorCode CartMesh::createMesh(const PetscInt npdim[NDIM])createMesh102,2826
CartMesh::~CartMesh()~CartMesh152,4259
void CartMesh::generateMesh_ChebyshevDistribution(const sreal rmin[NDIM], generateMesh_ChebyshevDistribution159,4361
void CartMesh::generateMesh_UniformDistribution(const sreal rmin[NDIM], generateMesh_UniformDistribution181,5032

/media/data/Projects/Struct3d/src/cartmesh.hpp,1235
#define STRUCT3D_CARTMESH_HSTRUCT3D_CARTMESH_H7,176
class CartMeshCartMesh28,842
	sint npoind[NDIM];npoind32,934
	sreal ** coords;			coords36,1059
	sint npointotal;                ///< Total number of points in the gridnpointotal38,1082
	sint ninpoin;                   ///< Number of internal (non-boundary) pointsninpoin39,1155
	PetscReal h;                    ///< Mesh size parameterh40,1234
	PetscMPIInt nprocs[NDIM];		///< Number of processors in each dimensionnprocs43,1327
	PetscMPIInt ntprocs;			///< Total number of processorsntprocs44,1399
	PetscInt gnpoind(const int idim) constgnpoind70,2372
	PetscReal gcoords(const int idim, const sint ipoin) constgcoords85,2774
	PetscInt gnpointotal() const { return npointotal; }gnpointotal102,3112
	PetscInt gninpoin() const { return ninpoin; }gninpoin103,3165
	PetscReal gh() const { return h; }gh104,3212
	const sint *pointer_npoind() constpointer_npoind106,3249
	const sreal *const *pointer_coords() constpointer_coords111,3309
	sint localFlattenedIndexReal(const sint k, const sint j, const sint i) constlocalFlattenedIndexReal137,4491
	sint localFlattenedIndexAll(const sint k, const sint j, const sint i) constlocalFlattenedIndexAll146,4839

/media/data/Projects/Struct3d/src/case.cpp,51
CaseData readCtrl(FILE *const conf)readCtrl8,114

/media/data/Projects/Struct3d/src/case.hpp,954
#define STRUCT3D_CASE_HSTRUCT3D_CASE_H7,92
enum GridType { S3D_UNIFORM, S3D_CHEBYSHEV };GridType13,215
enum GridType { S3D_UNIFORM, S3D_CHEBYSHEV };S3D_UNIFORM13,215
enum GridType { S3D_UNIFORM, S3D_CHEBYSHEV };S3D_CHEBYSHEV13,215
struct CaseData {CaseData15,262
	sint npdim[NDIM];                ///< Number of grid points in each dimensionnpdim16,280
	sreal rmin[NDIM];                ///< Starting coordinate of the domain in each directionrmin17,359
	sreal rmax[NDIM];                ///< Ending coordinate of the domain in each directionrmax18,450
	GridType gridtype;               ///< Type of Cartesian gridgridtype19,539
	std::string pdetype;             ///< PDE to solvepdetype20,601
	int nruns;                       ///< Number of times to repeat the experimentnruns21,653
	std::array<sreal,NDIM> vel;      ///< Advection velocityvel23,734
	sreal diffcoeff;                 ///< Diffusion coefficientdiffcoeff24,792

/media/data/Projects/Struct3d/src/common_utils.cpp,833
#define PETSCOPTION_STR_MAX_LEN PETSCOPTION_STR_MAX_LEN4,46
PetscReal computeNorm(const CartMesh *const m, Vec v, DM da)computeNorm6,83
PetscReal compute_error(const CartMesh& m, const DM da, const Vec u, const Vec uexact)compute_error37,1143
int get_mpi_rank(MPI_Comm comm) {get_mpi_rank51,1491
int get_mpi_size(MPI_Comm comm) {get_mpi_size57,1582
NonExistentPetscOpion::NonExistentPetscOpion(const std::string& msg)NonExistentPetscOpion63,1673
std::string petscoptions_get_string(const std::string optionname, const size_t sz)petscoptions_get_string67,1774
sreal petscoptions_get_real(const std::string optionname)petscoptions_get_real81,2218
int petscoptions_get_int(const std::string optionname)petscoptions_get_int94,2582
bool petscoptions_get_bool(const std::string optionname)petscoptions_get_bool107,2940

/media/data/Projects/Struct3d/src/common_utils.hpp,147
#define STRUCT3D_COMMON_UTILS_HSTRUCT3D_COMMON_UTILS_H6,104
class NonExistentPetscOpion : public std::runtime_errorNonExistentPetscOpion27,799

/media/data/Projects/Struct3d/src/linalg/matvec.cpp,563
SVec::SVec(const CartMesh *const mesh) : m{mesh}, start{1}, nghost{1},SVec8,119
SMat::SMat(const CartMesh *const mesh) : m{mesh}, start{0}, nghost{1},SMat21,545
void SMat::apply(const SVec& x, SVec& y) constapply28,824
void SMat::apply_res(const SVec& b, const SVec& x, SVec& y) constapply_res71,2224
void vecaxpy(const sreal a, const SVec& x, SVec& y)vecaxpy116,3718
sreal norm_L2(const SVec& x)norm_L2134,4261
sreal norm_vector_l2(const SVec& x)norm_vector_l2153,4924
sreal compute_error_L2(const SVec& x, const SVec& y)compute_error_L2170,5427

/media/data/Projects/Struct3d/src/linalg/matvec.hpp,507
#define STRUCT3D_MATVEC_HSTRUCT3D_MATVEC_H6,101
namespace s3d {s3d13,233
struct SVecSVec23,475
	const CartMesh *const m;m32,744
	const sint start;start38,1003
	const int nghost;nghost40,1063
	const std::array<sint,NDIM> sz;sz42,1157
	s3d::vector<sreal> vals;vals47,1323
struct SMatSMat56,1657
	const CartMesh *const m;m68,2041
	const sint start;start74,2269
	const int nghost;nghost76,2329
	const std::array<sint,NDIM> sz;sz78,2431
	s3d::vector<sreal> vals[NSTENCIL];vals83,2602

/media/data/Projects/Struct3d/src/linalg/s3d_ilu.cpp,389
StrILU_preconditioner::StrILU_preconditioner(const SMat& lhs, const PreconParams parms)StrILU_preconditioner7,69
void StrILU_preconditioner::updateOperator()updateOperator12,201
void StrILU_preconditioner::updateOperatorWithBranchingInLoop()updateOperatorWithBranchingInLoop18,327
void StrILU_preconditioner::updateOperatorWithSeparateLoops()updateOperatorWithSeparateLoops67,1943

/media/data/Projects/Struct3d/src/linalg/s3d_ilu.hpp,133
#define STRUCT3D_ILU_HSTRUCT3D_ILU_H6,68
class StrILU_preconditioner : public SGS_like_preconditionerStrILU_preconditioner10,131

/media/data/Projects/Struct3d/src/linalg/s3d_jacobi.cpp,233
JacobiPreconditioner::JacobiPreconditioner(const SMat& lhs)JacobiPreconditioner7,74
void JacobiPreconditioner::updateOperator()updateOperator11,167
SolveInfo JacobiPreconditioner::apply(const SVec& r, SVec& z) constapply14,216

/media/data/Projects/Struct3d/src/linalg/s3d_jacobi.hpp,124
#define STRUCT3D_JACOBI_HSTRUCT3D_JACOBI_H6,88
class JacobiPreconditioner : public SolverBaseJacobiPreconditioner10,146

/media/data/Projects/Struct3d/src/linalg/s3d_sgspreconditioners.cpp,382
SGS_like_preconditioner::SGS_like_preconditioner(const SMat& lhs, const PreconParams parms)SGS_like_preconditioner8,145
SolveInfo SGS_like_preconditioner::apply(const SVec& r, SVec& z) constapply14,363
SGS_preconditioner::SGS_preconditioner(const SMat& lhs, const PreconParams parms)SGS_preconditioner113,4350
void SGS_preconditioner::updateOperator()updateOperator118,4476

/media/data/Projects/Struct3d/src/linalg/s3d_sgspreconditioners.hpp,326
#define STRUCT3D_SGS_PRECONDITIONERS_HSTRUCT3D_SGS_PRECONDITIONERS_H6,89
class SGS_like_preconditioner : public SolverBaseSGS_like_preconditioner11,226
	s3d::vector<sreal> diaginv;diaginv19,488
	const PreconParams params;params21,564
class SGS_preconditioner : public SGS_like_preconditionerSGS_preconditioner25,644

/media/data/Projects/Struct3d/src/linalg/s3d_solverbase.cpp,623
SolverBase::SolverBase(const SMat& lhs, SolverBase *const precond) : A(lhs), prec{precond}SolverBase8,114
SolverBase::~SolverBase()~SolverBase11,210
NoSolver::NoSolver(const SMat& lhs, SolverBase *const precond) : SolverBase(lhs,nullptr)NoSolver16,255
void NoSolver::updateOperator() { }updateOperator19,349
SolveInfo NoSolver::apply(const SVec& b, SVec& x) constapply21,386
Richardson::Richardson(const SMat& lhs, SolverBase *const precond, const SolveParams params)Richardson35,736
void Richardson::updateOperator()updateOperator39,879
SolveInfo Richardson::apply(const SVec& b, SVec& x) constapply45,954

/media/data/Projects/Struct3d/src/linalg/s3d_solverbase.hpp,1075
#define STRUCT3D_SOLVER_BASE_HSTRUCT3D_SOLVER_BASE_H6,79
struct SolveParams {SolveParams11,158
	sreal rtol;rtol12,179
	int maxiter;maxiter13,192
struct PreconParams {PreconParams16,210
	int nbuildsweeps;nbuildsweeps17,232
	int napplysweeps;napplysweeps18,251
	int thread_chunk_size;thread_chunk_size19,270
	bool threadedbuild;threadedbuild20,294
	bool threadedapply;threadedapply21,315
struct SolveInfo {SolveInfo25,389
	bool converged;                 ///< Whether the solve converged to required toleranceconverged26,408
	int iters;                      ///< Number of iterations performediters27,496
	sreal resnorm;                  ///< 2-norm of the final residual vectorresnorm28,565
	double precapplywtime;          ///< Total wall time taken by preconditioner applicationprecapplywtime29,639
class SolverBaseSolverBase33,789
	const SMat& A;A50,1225
	SolverBase *const prec;prec52,1269
class NoSolver : public SolverBaseNoSolver58,1420
class Richardson : public SolverBaseRichardson69,1675
	SolveParams sparams;sparams80,1953

/media/data/Projects/Struct3d/src/linalg/solverfactory.cpp,62
SolverBase *createSolver(const SMat& lhs)createSolver13,246

/media/data/Projects/Struct3d/src/linalg/solverfactory.hpp,64
#define STRUCT3D_SOLVERFACTORY_HSTRUCT3D_SOLVERFACTORY_H6,118

/media/data/Projects/Struct3d/src/pde/convdiff.cpp,516
ConvDiff::ConvDiff(const std::array<sreal,NDIM> advel, const sreal diffc) : mu{diffc}, b(advel)ConvDiff10,211
ConvDiff::ConvDiff(const std::array<sreal,NDIM> advel, const sreal diffc) : mu{diffc}, b(advel)b10,211
std::array<std::function<sreal(const sreal[NDIM])>,2> ConvDiff::manufactured_solution() constmanufactured_solution18,460
int ConvDiff::computeLHSPetsc(const CartMesh *const m, DM da, Mat A) constcomputeLHSPetsc44,1227
SMat ConvDiff::computeLHS(const CartMesh *const m) constcomputeLHS126,4270

/media/data/Projects/Struct3d/src/pde/convdiff.hpp,254
#define STRUCT3D_CONVDIFF_HSTRUCT3D_CONVDIFF_H6,92
class ConvDiff : public PDEBaseConvDiff11,184
	const sreal mu;                      ///< Diffusion coeffmu30,809
	const std::array<sreal,NDIM> b;      ///< Advection velocity (normalized)b31,868

/media/data/Projects/Struct3d/src/pde/pdebase.cpp,164
int PDEBase::computeVectorPetsc(const CartMesh *const m, DM da,computeVectorPetsc8,137
SVec PDEBase::computeVector(const CartMesh *const m,computeVector41,1249

/media/data/Projects/Struct3d/src/pde/pdebase.hpp,132
#define PDEBASE_HPDEBASE_H6,77
class PDEBasePDEBase14,255
	PDEBase() { }PDEBase17,279
	virtual ~PDEBase() { }~PDEBase18,294

/media/data/Projects/Struct3d/src/pde/poisson.cpp,297
std::array<std::function<sreal(const sreal[NDIM])>,2> Poisson::manufactured_solution() constmanufactured_solution39,1276
int Poisson::computeLHSPetsc(const CartMesh *const m, DM da, Mat A) constcomputeLHSPetsc50,1751
SMat Poisson::computeLHS(const CartMesh *const m) constcomputeLHS121,4411

/media/data/Projects/Struct3d/src/pde/poisson.hpp,128
#define STRUCT3D_POISSON_HSTRUCT3D_POISSON_H9,230
class Poisson : public PDEBasePoisson16,402
	Poisson() { }Poisson19,443

/media/data/Projects/Struct3d/src/runcase.cpp,269
#undef NDEBUGNDEBUG1,0
#define PETSCOPTION_STR_LEN PETSCOPTION_STR_LEN18,256
T average(const std::vector<T>& arr)average21,310
double relative_deviation(const std::vector<T> arr, const T avg)relative_deviation31,500
int main(int argc, char* argv[])main42,739

/media/data/Projects/Struct3d/src/struct3d_config.h,301
#define STRUCT3D_CONFIG_HSTRUCT3D_CONFIG_H6,76
#define S3D_CACHE_LINE_LEN S3D_CACHE_LINE_LEN9,146
#define NDIM NDIM12,199
#define NSTENCIL NSTENCIL15,282
#define STENCIL_DIAG STENCIL_DIAG17,368
#define PI PI19,392
typedef PetscScalar sreal;sreal24,472
typedef PetscInt sint;sint26,522

/media/data/Projects/Struct3d/test/compare-threaded_blasted.cpp,154
#undef NDEBUGNDEBUG4,88
#define DEBUG DEBUG5,102
#define PETSCOPTION_STR_LEN PETSCOPTION_STR_LEN24,363
int main(int argc, char* argv[])main26,395

/media/data/Projects/Struct3d/test/compare_blasted.cpp,126
#undef NDEBUGNDEBUG1,0
#define PETSCOPTION_STR_LEN PETSCOPTION_STR_LEN21,287
int main(int argc, char* argv[])main23,319

/media/data/Projects/Struct3d/test/discretization-verification/gridconv-petsc.cpp,128
#undef NDEBUGNDEBUG4,102
#define PETSCOPTION_STR_LEN PETSCOPTION_STR_LEN14,280
int main(int argc, char* argv[])main16,312

/media/data/Projects/Struct3d/test/discretization-verification/gridconv.cpp,72
#undef NDEBUGNDEBUG4,102
int main(int argc, char* argv[])main14,294

/media/data/Projects/Struct3d/test/matvectest.cpp,71
#undef NDEBUGNDEBUG5,88
int main(int argc, char *argv[])main14,275

/media/data/Projects/Struct3d/test/nativevectorassemblytest.cpp,71
#undef NDEBUGNDEBUG5,54
int main(int argc, char *argv[])main11,153

/media/data/Projects/Struct3d/test/structsolvers/compare.cpp,126
#undef NDEBUGNDEBUG1,0
#define PETSCOPTION_STR_LEN PETSCOPTION_STR_LEN20,295
int main(int argc, char* argv[])main22,327
